;
; AssemblerApplication1.asm
;
; Created: 11/10/2018 2:52:31 PM
; Author : DELL
;


; Replace with your application code
MAIN_PROC:
		LDI R16 , 0xFF
		OUT DDRB, R16
		LDI R16 , 0
		OUT DDRC, R16
		LDI R16 , 0xFF
		OUT PORTC, R16 
		LDI R16 , 0x87
		STS ADCSRA, R16
		LDI R16, 0XC3
		STS ADMUX, R16

READ_ADC:
		LDS R18, ADCSRA
		ORI R18, 0x40
		STS ADCSRA, R18

		
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP.
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP
		NOP

	LOOP:	LDS R18, ADCSRA
			SBRS R18, 4
			RJMP LOOP
			LDS R16 ,ADCL //LOW
			LDS R17 ,ADCH // HIGH
			CPI R17, 0x02
			BRGE DIM
			
			CBI PORTB, 5
			LDS R18, ADCSRA
			SBR R18, 4
			STS ADCSRA,R18
			RJMP READ_ADC

DIM:		SBI PORTB, 5
			LDS R18, ADCSRA
			SBR R18, 4
			STS ADCSRA,R18
			RJMP READ_ADC
